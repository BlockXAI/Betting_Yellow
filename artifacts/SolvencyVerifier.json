{
  "contractName": "SolvencyVerifier",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isSolvent",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "publisher",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "ProofPublished",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "valid",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "verifier",
          "type": "address"
        }
      ],
      "name": "ProofVerified",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "epochIds",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        }
      ],
      "name": "getDetailedProof",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "merkleRoot",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isSolvent",
              "type": "bool"
            },
            {
              "internalType": "bytes32",
              "name": "commitment",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "witnessHash",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "reservesCommitment",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "liabilitiesCommitment",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "solvencyAssertion",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "publisher",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "blockNumber",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "verified",
              "type": "bool"
            }
          ],
          "internalType": "struct SolvencyVerifier.SolvencyProof",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getEpochIdByIndex",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestProof",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isSolvent",
          "type": "bool"
        },
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        }
      ],
      "name": "getProof",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isSolvent",
          "type": "bool"
        },
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "publisher",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "verified",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getProofCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        }
      ],
      "name": "proofExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "proofs",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isSolvent",
          "type": "bool"
        },
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "witnessHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "reservesCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "liabilitiesCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "solvencyAssertion",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "publisher",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "blockNumber",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "verified",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isSolvent",
          "type": "bool"
        },
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "witnessHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "reservesCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "liabilitiesCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "solvencyAssertion",
          "type": "bytes32"
        }
      ],
      "name": "publishProof",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "reservesCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "liabilitiesCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "solvencyAssertion",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "witnessHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        }
      ],
      "name": "recomputeMasterCommitment",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "masterCommitment",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "epochId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "expectedMerkleRoot",
          "type": "bytes32"
        }
      ],
      "name": "verifyProof",
      "outputs": [
        {
          "internalType": "bool",
          "name": "valid",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600e575f5ffd5b50610b9a8061001c5f395ff3fe608060405234801561000f575f5ffd5b50600436106100a6575f3560e01c8063737450911161006e578063737450911461028f578063739808e5146102c15780637e26ce41146102e4578063a8f0d296146102f7578063d5a56b2114610317578063d938d2021461032c575f5ffd5b80631b80bb3a146100aa578063283c9d2614610141578063444d95b0146101625780635be4ee1b1461023b57806361b6d21714610243575b5f5ffd5b6100ff6100b83660046109b5565b5f90815260208190526040902080546001820154600283015460038401546008850154600a909501549395929460ff9283169491936001600160a01b039091169290911690565b6040805196875260208701959095529215159385019390935260608401526001600160a01b039091166080830152151560a082015260c0015b60405180910390f35b61015461014f3660046109b5565b610350565b604051908152602001610138565b6101d76101703660046109b5565b5f60208190529081526040902080546001820154600283015460038401546004850154600586015460068701546007880154600889015460098a0154600a909a01549899979860ff97881698969795969495939492936001600160a01b039092169291168b565b604080519b8c5260208c019a909a52971515988a01989098526060890195909552608088019390935260a087019190915260c086015260e08501526001600160a01b0316610100840152610120830191909152151561014082015261016001610138565b600154610154565b6101546102513660046109cc565b6040805160208101849052908101849052606081018290525f9060800160405160208183030381529060405280519060200120905095945050505050565b6102976103c1565b6040805195865260208601949094529284019190915215156060830152608082015260a001610138565b6102d46102cf366004610a03565b610474565b6040519015158152602001610138565b6101546102f23660046109b5565b61056c565b61030a6103053660046109b5565b61058b565b6040516101389190610a23565b61032a610325366004610ac4565b610689565b005b6102d461033a3660046109b5565b5f90815260208190526040902060010154151590565b6001545f90821061039e5760405162461bcd60e51b8152602060048201526013602482015272496e646578206f7574206f6620626f756e647360681b60448201526064015b60405180910390fd5b600182815481106103b1576103b1610b31565b905f5260205f2001549050919050565b5f5f5f5f5f5f600180549050116104105760405162461bcd60e51b8152602060048201526013602482015272139bc81c1c9bdbd99cc81c1d589b1a5cda1959606a1b6044820152606401610395565b600180545f9190610422908290610b45565b8154811061043257610432610b31565b5f918252602080832090910154808352908290526040909120805460018201546002830154600390930154939950909750955060ff1693509150509091929394565b5f82815260208190526040812060018101546104c45760405162461bcd60e51b815260206004820152600f60248201526e141c9bdbd9881b9bdd08199bdd5b99608a1b6044820152606401610395565b80546001820154908414905f9042108015906104f057506104e96301e1338042610b45565b8360010154115b600384015490915015158280156105045750815b801561050d5750805b9450841561052557600a8401805460ff191660011790555b60408051861515815233602082015288917f3a4a33223eeacd19149239ca01db55986c99bb5d00aeee3897e514b354bd68bc910160405180910390a2505050505b92915050565b6001818154811061057b575f80fd5b5f91825260209091200154905081565b6105ea6040518061016001604052805f81526020015f81526020015f151581526020015f81526020015f81526020015f81526020015f81526020015f81526020015f6001600160a01b031681526020015f81526020015f151581525090565b505f908152602081815260409182902082516101608101845281548152600182015492810192909252600281015460ff9081161515938301939093526003810154606083015260048101546080830152600581015460a0830152600681015460c0830152600781015460e083015260088101546001600160a01b03166101008301526009810154610120830152600a0154909116151561014082015290565b5f89815260208190526040902060010154156106f65760405162461bcd60e51b815260206004820152602660248201527f50726f6f6620616c7265616479207075626c697368656420666f722074686973604482015265040cae0dec6d60d31b6064820152608401610395565b876107395760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081b595c9adb19481c9bdbdd606a1b6044820152606401610395565b8461077b5760405162461bcd60e51b8152602060048201526012602482015271125b9d985b1a590818dbdb5b5a5d1b595b9d60721b6044820152606401610395565b5f87116107be5760405162461bcd60e51b81526020600482015260116024820152700496e76616c69642074696d657374616d7607c1b6044820152606401610395565b428711156108045760405162461bcd60e51b815260206004820152601360248201527254696d657374616d7020696e2066757475726560681b6044820152606401610395565b6040518061016001604052808981526020018881526020018715158152602001868152602001858152602001848152602001838152602001828152602001336001600160a01b031681526020014381526020015f15158152505f5f8b81526020019081526020015f205f820151815f0155602082015181600101556040820151816002015f6101000a81548160ff021916908315150217905550606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e08201518160070155610100820151816008015f6101000a8154816001600160a01b0302191690836001600160a01b03160217905550610120820151816009015561014082015181600a015f6101000a81548160ff021916908315150217905550905050600189908060018154018082558091505060019003905f5260205f20015f909190919091505587897f49dca100f42b2f997ac521a60775230db58ab7bc2523a51c2f2d50872b930e0288338b6040516109a29392919092151583526001600160a01b03919091166020830152604082015260600190565b60405180910390a3505050505050505050565b5f602082840312156109c5575f5ffd5b5035919050565b5f5f5f5f5f60a086880312156109e0575f5ffd5b505083359560208501359550604085013594606081013594506080013592509050565b5f5f60408385031215610a14575f5ffd5b50508035926020909101359150565b5f6101608201905082518252602083015160208301526040830151610a4c604084018215159052565b50606083015160608301526080830151608083015260a083015160a083015260c083015160c083015260e083015160e0830152610100830151610a9b6101008401826001600160a01b03169052565b50610120830151610120830152610140830151610abd61014084018215159052565b5092915050565b5f5f5f5f5f5f5f5f5f6101208a8c031215610add575f5ffd5b8935985060208a0135975060408a0135965060608a01358015158114610b01575f5ffd5b989b979a50959860808101359760a0820135975060c0820135965060e08201359550610100909101359350915050565b634e487b7160e01b5f52603260045260245ffd5b8181038181111561056657634e487b7160e01b5f52601160045260245ffdfea2646970667358221220f7dc9e2b0da5887bdb56b3291aaa87cfa36c1954fb1006b971a641dbefed1eea64736f6c63430008210033"
}